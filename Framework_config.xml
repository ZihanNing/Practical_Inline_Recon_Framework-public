<?xml version="1.0" encoding="UTF-8"?>
<!--
This is a central configuration file to sort loading path/support function path/saving path, etc for each workflows
Please remember to register a new workflow first if you would like to start the implementation of a new method
Or, check every time when you apply an tested worflow in a new server/machine

by Zihan Ning <zihan.1.ning@kcl.ac.uk>
@King's College London
22-May-2025
-->

<Framework>
    <Component name="Default">
        <data_saved_path>/home/gadgegron/data/</data_saved_path>
    </Component>
    
    <!--SENSE reconstruction with ACS for coil senstivity map-->
    <Component name="SENSE_ACS">
        <data_saved_path>/home/gadgetron/data/sense/</data_saved_path>
        <recon_alg>handle_connection_background_sense_acs</recon_alg>
        
        <!-- Read by the Bash script to call the custom recon -->
        <logFile>/home/gadgetron/Gadgetron_Parallel_Framework/log/GPU_status_log.txt</logFile> <!--This need to be a default file that used for all recons in this server-->
        <maxWaitTime>900</maxWaitTime>
        <interval>10</interval>
        <matlabFunction>handle_connection_background_sense_acs</matlabFunction>
        
        <!--Add path for the custom recon-->
        <support_func_path>/home/gadgetron/Gadgetron_Parallel_Framework/SENSE_Recon_Demo</support_func_path>
    </Component>
    
    <!--external REF for ESPIRIT (coil sensitivity map)-->
    <Component name="exterREF_ESPIRIT">
        <data_saved_path>/home/gadgetron/data/sense/</data_saved_path>
        <recon_alg>handle_connection_background_exterREF_ESPIRIT</recon_alg>
        
        <!-- Read by the Bash script to call the custom recon -->
        <logFile>/home/gadgetron/Gadgetron_Parallel_Framework/log/GPU_status_log.txt</logFile> <!--This need to be a default file that used for all recons in this server-->
        <maxWaitTime>900</maxWaitTime>
        <interval>10</interval>
        <matlabFunction>handle_connection_background_exterREF_ESPIRIT</matlabFunction>
        
        <!--Add path for the custom recon-->
        <support_func_path>/home/gadgetron/Gadgetron_Parallel_Framework/SENSE_Recon_Demo</support_func_path>
    </Component>
    
    
    <!--SENSE reconstruction with exterREF for coil senstivity map-->
    <Component name="SENSE_exterREF">
        <data_saved_path>/home/gadgetron/data/sense/</data_saved_path>
        <recon_alg>handle_connection_background_sense_exterREF</recon_alg>
        
        <!-- Read by the Bash script to call the custom recon -->
        <logFile>/home/gadgetron/Gadgetron_Parallel_Framework/log/GPU_status_log.txt</logFile> <!--This need to be a default file that used for all recons in this server-->
        <maxWaitTime>900</maxWaitTime>
        <interval>10</interval>
        <matlabFunction>handle_connection_background_sense_exterREF</matlabFunction>
        <flag_checkInputs>1</flag_checkInputs>
        <InputList>
            <Input>ExterREF_CMS_*</Input> <!--Any file with the name contains ExterREF_CMS_-->
        </InputList>
        
        <!--Add path for the custom recon-->
        <support_func_path>/home/gadgetron/Gadgetron_Parallel_Framework/SENSE_Recon_Demo</support_func_path>
    </Component>
    
    <!--NUFFT recon for radial sequence-->
    <Component name="NUFFT_radial">
        <data_saved_path>/home/zn23/data/nufft/</data_saved_path>
        <recon_alg>handle_connection_background_nufft_radial</recon_alg>
        
        <!-- Read by the Bash script to call the custom recon -->
        <logFile>/home/zn23/Gadgetron_Parallel_Framework/log/GPU_status_log.txt</logFile> <!--This need to be a default file that used for all recons in this server-->
        <maxWaitTime>900</maxWaitTime>
        <interval>10</interval>
        <matlabFunction>handle_connection_background_nufft_radial</matlabFunction>
        
        <!--Add path for the custom recon-->
        <support_func_path>/home/zn23/Gadgetron_Parallel_Framework/radial_NUFFT_Demo</support_func_path>
        <support_func_path>/home/zn23/matlab/finufft</support_func_path> <!--finufft toolbox-->
    </Component>
    
    <!--AlignSENSE recon with ACS for coil sensitivity estimation-->
    <Component name="AlignSENSE_ACS">
        <data_saved_path>/home/gadgetron/data/alignsense/</data_saved_path>
        <recon_alg>handle_connection_background_alignsense_acs</recon_alg>
        
        <!-- Read by the Bash script to call the custom recon -->
        <logFile>/home/gadgetron/Gadgetron_Parallel_Framework/log/GPU_status_log.txt</logFile> <!--This need to be a default file that used for all recons in this server-->
        <maxWaitTime>900</maxWaitTime>
        <interval>10</interval>
        <matlabFunction>handle_connection_background_alignsense_acs</matlabFunction>
        
        <!--Add path for the custom recon-->
        <support_func_path>/home/gadgetron/Gadgetron_Parallel_Framework/AlignSENSE_Recon_Demo</support_func_path>
    </Component>
    
    <!--AlignSENSE reconstruction with exterREF for coil senstivity map-->
    <Component name="AlignSENSE_exterREF">
        <data_saved_path>/home/gadgetron/data/sense/</data_saved_path> <!--Used the exterREF saved in sense folder-->
        <recon_alg>handle_connection_background_alignsense_exterREF</recon_alg>
        
        <!-- Read by the Bash script to call the custom recon -->
        <logFile>/home/gadgetron/Gadgetron_Parallel_Framework/log/GPU_status_log.txt</logFile> <!--This need to be a default file that used for all recons in this server-->
        <maxWaitTime>900</maxWaitTime>
        <interval>10</interval>
        <matlabFunction>handle_connection_background_alignsense_exterREF</matlabFunction>
        <flag_checkInputs>1</flag_checkInputs>
        <InputList>
            <Input>ExterREF_CMS_*</Input> <!--Any file with the name contains ExterREF_CMS_-->
        </InputList>
        
        <!--Add path for the custom recon-->
        <support_func_path>/home/gadgetron/Gadgetron_Parallel_Framework/AlignSENSE_Recon_Demo</support_func_path>
    </Component>
    
    
    <!-- Add more components here -->
</Framework>
